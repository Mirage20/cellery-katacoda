(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{138:function(e,n,t){"use strict";t.r(n);var a=t(56),o=t.n(a),c=t(26),r=t(28),i=t(27),l=t(29),s=(t(61),t(52)),d=t.n(s),u=t(0),f=t.n(u),p=t(30),h=t.n(p),m=t(9),y=function(e){function n(e){var t;return Object(c.a)(this,n),(t=Object(r.a)(this,Object(i.a)(n).call(this,e))).componentDidMount=function(){t.dependencyGraph.current&&t.loader.current&&t.draw()},t.componentDidUpdate=function(){t.network&&(t.network.destroy(),t.network=null,t.dependencyGraph.current&&t.loader.current&&t.draw())},t.componentWillUnmount=function(){t.network&&(t.network.destroy(),t.network=null)},t.draw=function(){var e=t.props,a=e.data,o=e.focusedCell,c=e.onClickNode,r=[],i=[],l=[],s=a.cells,d=a.components.filter(function(e){return o===e.cell}).map(function(e){return"".concat(e.cell,":").concat(e.name)}),u=function(e,n){for(var t=n.x,a=n.y,o=[],c=0;c<e.length;c++)o.push(Math.hypot(e[c].x-t,e[c].y-a));return Math.max.apply(Math,o)},f=function(e){for(var n,t,a,o,c=0;c<e.length;c++)a=e[c].x<a||void 0===a?e[c].x:a,n=e[c].x>n||void 0===n?e[c].x:n,o=e[c].y<o||void 0===o?e[c].y:o,t=e[c].y>t||void 0===t?e[c].y:t;return{x:(a+n)/2,y:(o+t)/2}},p=function(e){var n=function(e){var n=[];return b.get({filter:function(t){t.group===e&&n.push(t.id)}}),n}(e),a=t.network.getPositions(n);return Object.values(a)},m=function(e,n,t,a){var o={};return o.x=Math.round(Math.cos(t*Math.PI/180)*a+e),o.y=Math.round(Math.sin(t*Math.PI/180)*a+n),o};if(d&&d.forEach(function(e,t){r.push({id:e,label:e.split(":")[1],shape:"image",image:"./component.svg",group:n.NodeType.COMPONENT})}),s){var y=!0,v=!1,g=void 0;try{for(var w,E=s[Symbol.iterator]();!(y=(w=E.next()).done);y=!0){var N=w.value;N===o?l.push({id:N,label:N,shape:"image",image:"./focusedCell.svg",group:n.NodeType.CELL}):l.push({id:N,label:N,shape:"image",image:"./cell.svg",group:n.NodeType.CELL})}}catch(C){v=!0,g=C}finally{try{y||null==E.return||E.return()}finally{if(v)throw g}}}a.dependencyLinks&&a.dependencyLinks.forEach(function(e,n){i.find(function(n){return n.from===e.from&&n.to===e.to})||i.push({id:n,from:e.to,to:e.from,label:e.alias})});var b=new h.a.DataSet(l);b.add(r),b.add({id:"".concat(o,":").concat(n.NodeType.GATEWAY),label:n.NodeType.GATEWAY,shape:"image",image:"./gateway.svg",group:n.NodeType.GATEWAY,fixed:!0});var k=[];i.forEach(function(e,t){e.from===o&&(e.from="".concat(o,":").concat(n.NodeType.GATEWAY),k.push(e.from))});var T=new h.a.DataSet(i),O={nodes:b,edges:T};if(!t.network){t.network=new h.a.Network(t.dependencyGraph.current,O,n.GRAPH_OPTIONS),t.loader.current.style.visibility="visible",t.loader.current.style.height="60vh",t.dependencyGraph.current.style.visibility="hidden";var x=b.get({returnType:"Object"}),M=[];t.network.on("stabilized",function(){var e=b.getIds();t.network.fit({nodes:e}),t.loader.current.style.visibility="hidden",t.loader.current.style.height="0vh",t.dependencyGraph.current.style.visibility="visible",t.network.setOptions({physics:!1}),window.onresize=function(){t.network.fit({nodes:e})}}),t.network.on("beforeDrawing",function(e){e.fillStyle="#ffffff",e.fillRect(-e.canvas.offsetWidth,-(e.canvas.offsetHeight+20),e.canvas.width,e.canvas.height)}),t.network.on("afterDrawing",function(e){var t=f(p(n.NodeType.COMPONENT)),a=u(p(n.NodeType.COMPONENT),t)+150,c=m(t.x,t.y,270,a*Math.cos(22.5));e.font="bold 1.3rem Arial",e.textAlign="center",e.fillStyle="#666666",e.fillText(o,c.x,c.y+20)}),t.network.on("stabilizationIterationsDone",function(){var e=f(p(n.NodeType.COMPONENT)),a=u(p(n.NodeType.COMPONENT),e),c=a+150;for(var i in x)if(x[i].group===n.NodeType.COMPONENT){if(x[i].fixed=!0,k.length>0){var l=t.network.getPositions(x[i].id);1===r.length?t.network.moveNode(x[i].id,l[x[i].id].x,100):e.y>-100&&e.y<50?t.network.moveNode(x[i].id,l[x[i].id].x,l[x[i].id].y+100):t.network.moveNode(x[i].id,l[x[i].id].x,l[x[i].id].y+200)}x.hasOwnProperty(i)&&M.push(x[i])}e=f(p(n.NodeType.COMPONENT));var s=b.get(o);s.size=c,s.label=void 0,s.fixed=!0,1===r.length?s.mass=5:s.mass=a/10,t.network.moveNode(o,e.x,e.y),M.push(s);var d=b.get("".concat(o,":").concat(n.NodeType.GATEWAY)),h=m(e.x,e.y,90,c*Math.cos(22.5));if(d){var y=h.x,v=h.y;t.network.moveNode(d.id,y,v),M.push(d)}b.update(M)}),t.network.on("selectNode",function(e){t.network.unselectAll();var a=b.get(e.nodes[0]);a.group===n.NodeType.CELL&&a.id!==o&&c(e.nodes[0])}),t.network.on("dragging",function(e){t.network.unselectAll()})}},t.render=function(){var e=t.props.classes;return f.a.createElement("div",{className:e.root},f.a.createElement("div",{ref:t.loader,style:{visibility:"visible",height:"60vh"},className:e.progress},f.a.createElement(d.a,null)),f.a.createElement("div",{style:{visibility:"hidden",height:"93vh"},ref:t.dependencyGraph}))},t.dependencyGraph=f.a.createRef(),t.loader=f.a.createRef(),t}return Object(l.a)(n,e),n}(f.a.Component);y.NodeType={CELL:"cell",COMPONENT:"component",GATEWAY:"gateway"},y.GRAPH_OPTIONS={nodes:{size:40,font:{size:15,color:"#000000"},scaling:{max:1e4}},edges:{width:2,smooth:{type:"continuous",forceDirection:"none",roundness:0},color:{inherit:!1,color:"#ccc7c7"},arrows:{from:{enabled:!0,scaleFactor:.5}},font:{align:"horizontal",size:12,color:"#777777"}},layout:{improvedLayout:!1},autoResize:!0,physics:{enabled:!0,forceAtlas2Based:{gravitationalConstant:-800,centralGravity:.1,avoidOverlap:1},solver:"forceAtlas2Based",stabilization:{enabled:!0,iterations:25,fit:!0}},interaction:{selectConnectedEdges:!1,hover:!0}};var v=Object(m.withStyles)({progress:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"}})(y),g=function(e){function n(e){var t;return Object(c.a)(this,n),(t=Object(r.a)(this,Object(i.a)(n).call(this,e))).onClickCell=function(e){t.setState({focused:e})},t.render=function(){var e=t.props.data;return f.a.createElement("div",null,f.a.createElement(v,{data:e,focusedCell:t.state.focused,onClickNode:t.onClickCell}))},t.state={focused:e.focusedCell},t}return Object(l.a)(n,e),n}(f.a.Component),w=t(54),E=t.n(w),N=function(e){return f.a.createElement(E.a,Object.assign({viewBox:"0 0 180 60"},e),f.a.createElement("g",null,f.a.createElement("g",null,f.a.createElement("path",{fill:"#43AB00",d:"M51.573,46.782c-0.254-0.254-0.67-0.254-0.924,0l-6.32,6.32c-0.254,0.254-0.694,0.641-0.979,0.861\nc0,0-0.962,0.744-1.911,1.148c-1.012,0.432-2.355,0.614-2.355,0.614c-0.356,0.048-0.941,0.087-1.3,0.087h-12.89\nc-0.359,0-0.943-0.042-1.299-0.094c0,0-1.536-0.225-2.619-0.723c-0.847-0.391-1.653-1.027-1.653-1.027\nc-0.282-0.224-0.72-0.613-0.974-0.867l-9.113-9.113c-0.254-0.254-0.644-0.691-0.867-0.975c0,0-0.643-0.814-1.035-1.666\nc-0.494-1.08-0.716-2.604-0.716-2.604c-0.052-0.355-0.094-0.94-0.094-1.299V24.555c0-0.359,0.039-0.944,0.085-1.3\nc0,0,0.168-1.275,0.577-2.26c0.407-0.983,1.19-2.004,1.19-2.004c0.219-0.285,0.605-0.726,0.859-0.98l9.113-9.112\nc0.254-0.254,0.693-0.643,0.977-0.864c0,0,0.899-0.703,1.808-1.102c1.04-0.457,2.461-0.656,2.461-0.656\nc0.355-0.05,0.94-0.09,1.299-0.09h12.89c0.359,0,0.944,0.039,1.3,0.085c0,0,1.275,0.168,2.259,0.576\nc0.984,0.408,2.005,1.191,2.005,1.191c0.285,0.219,0.726,0.605,0.98,0.859l5.822,5.821c0.254,0.254,0.67,0.254,0.924,0l2.77-2.77\nc0.254-0.254,0.254-0.67,0-0.924l-7.352-7.353c-0.254-0.254-0.695-0.641-0.98-0.859c0,0-1.021-0.783-2.005-1.19\nc-0.984-0.408-2.26-0.576-2.26-0.576c-0.356-0.047-0.941-0.085-1.3-0.085H22.731c-0.359,0-0.944,0.038-1.3,0.085\nc0,0-1.275,0.168-2.259,0.576c-0.984,0.407-2.005,1.19-2.005,1.19c-0.285,0.219-0.726,0.605-0.98,0.859L4.013,15.846\nc-0.254,0.254-0.644,0.693-0.865,0.976c0,0-0.669,0.853-1.063,1.729c-0.478,1.062-0.689,2.541-0.689,2.541\nc-0.051,0.355-0.093,0.94-0.093,1.299v17.217c0,0.359,0.038,0.944,0.085,1.301c0,0,0.168,1.275,0.576,2.26\nc0.408,0.982,1.191,2.004,1.191,2.004c0.218,0.285,0.605,0.727,0.859,0.98l12.174,12.174c0.254,0.254,0.694,0.643,0.977,0.863\nc0,0,0.909,0.709,1.824,1.107c1.036,0.455,2.444,0.65,2.444,0.65c0.356,0.049,0.941,0.09,1.3,0.09h17.217\nc0.359,0,0.944-0.038,1.3-0.084c0,0,1.23-0.16,2.197-0.551c1.008-0.41,2.067-1.219,2.067-1.219\nc0.286-0.218,0.727-0.604,0.981-0.857l7.85-7.852c0.254-0.254,0.254-0.67,0-0.924L51.573,46.782z"})),f.a.createElement("path",{fill:"#464646",d:"M41.832,37.185c-0.25-0.26-0.664-0.262-0.916-0.004c0,0-3.276,5.447-9.605,5.447\nc-6.473,0-11.738-5.439-11.738-12.125c0-6.686,5.266-12.124,11.738-12.124c6.82,0,9.605,5.445,9.605,5.445\nc0.252,0.258,0.666,0.257,0.916-0.003l3.751-3.873c0.251-0.261,0.237-0.67-0.03-0.911c0,0-4.722-7.328-14.242-7.328\nc-10.049,0-18.197,8.415-18.197,18.794c0,10.381,8.148,18.793,18.197,18.793c9.667,0,14.242-7.328,14.242-7.328\nc0.269-0.24,0.283-0.65,0.031-0.91L41.832,37.185z"}),f.a.createElement("g",null,f.a.createElement("path",{fill:"#464646",d:"M73.969,34.423c-1.199,5.445-5.447,8.658-11.6,8.658c-7.408,0-12.746-4.738-12.746-12.308\nc0-7.569,5.393-13.017,12.582-13.017c7.842,0,11.873,5.447,11.873,11.982v2.068H56.051c0.217,3.922,2.994,6.319,6.535,6.319\nc3.214,0,5.174-1.418,6.099-4.248L73.969,34.423z M67.705,28.376c-0.107-3.104-1.905-5.826-5.557-5.826\nc-3.593,0-5.607,2.613-5.988,5.826H67.705z"}),f.a.createElement("path",{fill:"#464646",d:"M144.56,25.492c-1.254-0.708-2.342-1.034-3.922-1.034c-3.375,0-5.664,2.396-5.664,6.752v11.872h-6.533\nV19.065h6.533v4.574c0.873-2.723,3.377-5.227,6.699-5.227c1.471,0,2.668,0.38,3.377,0.979L144.56,25.492z"}),f.a.createElement("path",{fill:"#464646",d:"M124.12,34.423c-1.197,5.445-5.444,8.658-11.599,8.658c-7.408,0-12.746-4.738-12.746-12.308\nc0-7.569,5.393-13.017,12.582-13.017c7.842,0,11.874,5.447,11.874,11.982v2.068h-18.028c0.217,3.922,2.996,6.319,6.535,6.319\nc3.215,0,5.174-1.418,6.1-4.248L124.12,34.423z M117.857,28.376c-0.107-3.104-1.904-5.826-5.555-5.826\nc-3.594,0-5.609,2.613-5.99,5.826H117.857z"}),f.a.createElement("rect",{x:"89.031",y:"12.344",fill:"#464646",width:"6.536",height:"30.737"}),f.a.createElement("rect",{x:"78.287",y:"12.344",fill:"#464646",width:"6.535",height:"30.737"}),f.a.createElement("path",{fill:"#464646",d:"M166.3,18.413v11.995c0,3.863-2.025,7.089-5.275,7.089c-3.145,0-4.586-2.078-4.586-5.704V18.413h-6.396\nv14.661c0,5.225,2.291,9.488,8.582,9.488c3.52,0,6.504-1.031,7.676-3.697v2.166c0,3.305-1.41,6.865-5.635,6.865\nc-1.613,0-4.023-1.229-4.877-3.443l-6.529,0.715c1.604,4.646,5.922,7.18,10.256,7.523c6.713,0.533,13.184-2.924,13.184-15.168\nv-19.11H166.3z"}))))},b=t(55),k=t.n(b),T=t(57),O=t.n(T),x=t(58),M=t.n(x),C=Object(m.createMuiTheme)({typography:{useNextVariants:!0},palette:{primary:{main:"#43ab01"}}}),A=Object(m.withStyles)({root:{flexGrow:1,background:"#fff"},celleryLogo:{width:100,marginRight:10},title:{color:"#464646"},appBar:{boxShadow:"none"}})(function(e){var n=e.data,t=e.classes,a={cells:[n.name],components:n.components.map(function(e){return{cell:n.name,name:e}}),dependencyLinks:[]};return function e(n){n.dependencies&&Object.keys(n.dependencies).forEach(function(t){var o=n.dependencies[t];a.cells.push(o.name),a.dependencyLinks.push({alias:t,from:n.name,to:o.name}),o.components&&o.components.forEach(function(e){a.components.push({cell:o.name,name:e})}),e(o)})}(n),f.a.createElement(m.MuiThemeProvider,{theme:C},f.a.createElement(k.a,null),f.a.createElement("div",{className:t.root},f.a.createElement(o.a,{position:"static",color:"default",className:t.appBar},f.a.createElement(O.a,null,f.a.createElement(N,{className:t.celleryLogo,fontSize:"large"}),f.a.createElement(M.a,{variant:"h6",className:t.title},"Image View"))),f.a.createElement(g,{data:a,focusedCell:n.name})))}),L=t(59),z=t.n(L);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var P=window.__CELL_METADATA__;Reflect.deleteProperty(window,"__CELL_METADATA__"),z.a.render(f.a.createElement(A,{data:P}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},60:function(e,n,t){e.exports=t(138)}},[[60,1,2]]]);
//# sourceMappingURL=main.cf2f935a.chunk.js.map